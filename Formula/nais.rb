# typed: false
# frozen_string_literal: true

# This file was generated by nais/cli. DO NOT EDIT.
class Nais < Formula
  desc "Command-line interface for NAIS"
  homepage "https://github.com/nais/cli"
  version "v2.0.0-20250626131509-599a7b279aa0"
  version_scheme 1

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/nais/cli/releases/download/v2.0.0-20250626131509-599a7b279aa0/nais-cli_v2.0.0-20250626131509-599a7b279aa0_darwin_amd64.tar.gz"
      sha256 "e87963d965cb26ba7bdc9813e751d25515fc8349a8c4ee7536f7297a2c18abbc"

      def install
        bin.install "nais"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/nais/cli/releases/download/v2.0.0-20250626131509-599a7b279aa0/nais-cli_v2.0.0-20250626131509-599a7b279aa0_darwin_arm64.tar.gz"
      sha256 "66f0afbb45450ae44cd80a5ac87f32a9d983170c3d39e07d6e4879df827cd768"

      def install
        bin.install "nais"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/cli/releases/download/v2.0.0-20250626131509-599a7b279aa0/nais-cli_v2.0.0-20250626131509-599a7b279aa0_linux_amd64.tar.gz"
      sha256 "c215a4988c07ae9b6611115cc5015ec0c8c3f597917aa75583468cea8ffde055"
      def install
        bin.install "nais"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/cli/releases/download/v2.0.0-20250626131509-599a7b279aa0/nais-cli_v2.0.0-20250626131509-599a7b279aa0_linux_arm64.tar.gz"
      sha256 "6884001826c1e2451657b8d203d559f32741a8b1186fc86c93d5e4d0eb9588e0"
      def install
        bin.install "nais"
      end
    end
  end

  test do
    assert_match version, shell_output("#{bin}/nais version")
  end

  livecheck do
    url "https://github.com/nais/cli.git"
    regex(/^v(\d+\.\d+\.\d+-\d{14}-[a-f0-9]{12})$/i)
  end
end
