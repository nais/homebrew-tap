# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Narc < Formula
  desc "NAIS Administration CLI"
  homepage "https://github.com/nais/narcos"
  version "2.0.0-20250404113052"

  on_macos do
    on_intel do
      url "https://github.com/nais/narcos/releases/download/2.0.0-20250404113052/narc-cli_2.0.0-20250404113052_darwin_amd64.tar.gz"
      sha256 "716f938f6ccce7ca6a7bd11d886a40f9d19b9e8f08ad544e7a63383bee99b04d"

      def install
        bin.install "narc"
      end
    end
    on_arm do
      url "https://github.com/nais/narcos/releases/download/2.0.0-20250404113052/narc-cli_2.0.0-20250404113052_darwin_arm64.tar.gz"
      sha256 "9c48da01715fe7b1d8e1c4eb8c8d93996f56ac94ddc1b431301360401ad17897"

      def install
        bin.install "narc"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/nais/narcos/releases/download/2.0.0-20250404113052/narc-cli_2.0.0-20250404113052_linux_amd64.tar.gz"
        sha256 "48c6b28320b1cf4482e8c5be527520a8cb68ba8a03472241bca025ca1c4a8c57"

        def install
          bin.install "narc"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/nais/narcos/releases/download/2.0.0-20250404113052/narc-cli_2.0.0-20250404113052_linux_arm64.tar.gz"
        sha256 "865795afb2af9488829537167024eab17539201457a81f4c7e0b2fabebe0d4e1"

        def install
          bin.install "narc"
        end
      end
    end
  end

  test do
    assert_match version, shell_output("#{bin}/narc version")
  end
end
