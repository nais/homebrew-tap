# typed: false
# frozen_string_literal: true

# This file was generated by nais/narcos. DO NOT EDIT.
class Narc < Formula
  desc "Admin command-line interface for Nais"
  homepage "https://github.com/nais/narcos"
  version "v2.2.1"
  version_scheme 1

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/nais/narcos/releases/download/v2.2.1/narc-cli_v2.2.1_darwin_amd64.tar.gz"
      sha256 "e60d7c9d153738797446a897f69fdfed9ee1101bb0f26733da6c1162cbcd29e4"

      def install
        bin.install "narc"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/nais/narcos/releases/download/v2.2.1/narc-cli_v2.2.1_darwin_arm64.tar.gz"
      sha256 "2514f7201f3a771a658653e35a08ccce2f96de902d0015695974bc71d252e698"

      def install
        bin.install "narc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/narcos/releases/download/v2.2.1/narc-cli_v2.2.1_linux_amd64.tar.gz"
      sha256 "0f3e0c21c8eaf333933508e45f66bb009aefdd301c2cf8e0ab7008c4164d114b"
      def install
        bin.install "narc"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/narcos/releases/download/v2.2.1/narc-cli_v2.2.1_linux_arm64.tar.gz"
      sha256 "f451b344736cb5890249cc457c73c3b532f516ff97acd8e4cfe7ee6f03c0348b"
      def install
        bin.install "narc"
      end
    end
  end

  test do
    assert_match version, shell_output("#{bin}/narc version")
  end
end
