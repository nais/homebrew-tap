# typed: false
# frozen_string_literal: true

# This file was generated by nais/narcos. DO NOT EDIT.
class Nais < Formula
  desc "Admin command-line interface for Nais"
  homepage "https://github.com/nais/narcos"
  version "v2.1.1"
  version_scheme 1

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/nais/narcos/releases/download/v2.1.1/narc-cli_v2.1.1_darwin_amd64.tar.gz"
      sha256 "103fed8ebcc9b58c777cacd6e5a24744bd88c2a66481d5dbd2d547926f722446"

      def install
        bin.install "narc"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/nais/narcos/releases/download/v2.1.1/narc-cli_v2.1.1_darwin_arm64.tar.gz"
      sha256 "99c7efcd7af02ffe793d1301f706b8205814d7d72e8473d4d849ef4d87224499"

      def install
        bin.install "narc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/narcos/releases/download/v2.1.1/narc-cli_v2.1.1_linux_amd64.tar.gz"
      sha256 "c164544f687772a80066ef6d27d0f9c2e9a997a3a42b0a80b5fbc7171d515ff6"
      def install
        bin.install "narc"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/nais/narcos/releases/download/v2.1.1/narc-cli_v2.1.1_linux_arm64.tar.gz"
      sha256 "d8ba8cf4a50542cb32bbebdca2a022b1287953e5e7486e852b7642e5c4220c70"
      def install
        bin.install "narc"
      end
    end
  end

  test do
    assert_match version, shell_output("#{bin}/narc version")
  end
end
