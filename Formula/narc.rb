# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Narc < Formula
  desc "NAIS Administration CLI"
  homepage "https://github.com/nais/narcos"
  version "1.20231020092118"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/nais/narcos/releases/download/1.20231020092118/narc-cli_1.20231020092118_darwin_amd64.tar.gz"
      sha256 "74292b1b6fe628aaf3222f315a45a0f008faaf6b94cb57f35f51d56c752e4d02"

      def install
        bin.install "narc"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/nais/narcos/releases/download/1.20231020092118/narc-cli_1.20231020092118_darwin_arm64.tar.gz"
      sha256 "6e20b04a2341caeccc9cf0efd0a9397ba2af0080429b10e2db8652f3b6f535a0"

      def install
        bin.install "narc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/nais/narcos/releases/download/1.20231020092118/narc-cli_1.20231020092118_linux_amd64.tar.gz"
      sha256 "3266d90bf66c77aada31f94dcb5ad974b00a055b5e28971c0edd908aa2c71d37"

      def install
        bin.install "narc"
      end
    end
  end

  test do
    assert_match version, shell_output("#{bin}/narc version")
  end
end
